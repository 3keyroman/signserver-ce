<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core">

    <ui:remove>
    <!--
    /*************************************************************************
    *                                                                       *
    *  SignServer: The OpenSource Automated Signing Server                  *
    *                                                                       *
    *  This software is free software; you can redistribute it and/or       *
    *  modify it under the terms of the GNU Lesser General Public           *
    *  License as published by the Free Software Foundation; either         *
    *  version 2.1 of the License, or any later version.                    *
    *                                                                       *
    *  See terms of license at gnu.org.                                     *
    *                                                                       *
    *************************************************************************/

    Version: $Id$
    -->
    </ui:remove>

    <f:metadata>
        <f:viewParam name="id" value="#{workerBean.id}"/>
    </f:metadata>

    <div id="worker_menu">
        <!-- Note: This buttons are somewhat duplicated in workers.xhtml -->
        <h:form id="workerMenu">
            <p>
                <h:commandButton id="activate" value="Activate..." action="#{workerBean.bulkAction('workers-activation')}"/> <h:commandButton id="deactivate" value="Deactivate..." action="#{workerBean.bulkAction('workers-deactivation')}"/> | 
                <h:commandButton id="renewKey" value="Renew key..." action="#{workerBean.bulkAction('workers-renewkey')}"/> <h:commandButton id="testKey" value="Test key..." action="#{workerBean.bulkAction('workers-testkey')}"/> <h:commandButton id="generateCSR" value="Generate CSR..." action="#{workerBean.bulkAction('workers-csr')}"/> <h:commandButton id="installCertificates" value="Install certificates..." action="#{workerBean.bulkAction('workers-certificates')}"/> |
                <h:commandButton id="renewSigner" value="Renew signer..." action="#{workerBean.bulkAction('workers-renew')}"/> |
                <h:commandButton id="destroyKey" value="Destroy key..." action="#{workerBean.workerAction('worker-removekey')}"/> | 
                <h:commandButton id="remove" value="Remove..." action="#{workerBean.bulkAction('workers-remove')}"/> |
                <h:commandButton id="reload" value="Reload from database..." action="#{workerBean.bulkAction('workers-reload')}"/> 
                <h:commandButton id="export" value="Export..." action="#{workerBean.bulkAction('workers-export')}"/>
            </p>
        </h:form>

        <p>
            <h:link outcome="worker-status-summary" value="Status Summary"><f:param name="id" value="#{workerBean.id}"/></h:link> | 
            <h:link outcome="worker-status-properties" value="Status Properties"><f:param name="id" value="#{workerBean.id}"/></h:link> | 
            <h:link outcome="worker-configuration" value="Configuration"><f:param name="id" value="#{workerBean.id}"/></h:link> |
            <h:link outcome="worker-authorization" value="Authorization"><f:param name="id" value="#{workerBean.id}"/></h:link> |
            <h:link outcome="worker-cryptotoken" value="CryptoToken" rendered="#{workerBean.hasCrypto}"><f:param name="id" value="#{workerBean.id}"/></h:link>
        </p>
    </div>
</ui:composition>
